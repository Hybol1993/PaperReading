An Analysis of Linux Scalability to Many Cores 阅读报告
============

<center>毛海宇 2015310607 </center>
-----------------------------------------------------

##背景##
####why need to do####
啊啊啊啊啊
####how previous research do####
去去去去去去去去
####the main contribution of this paper####
>1. 一组名为MOSBENCH的benchmark，用来评测操作系统的可扩展性
>2. 16个对Linux 2.6.35-rc5 kernel的改善，命名为PK(patched kernel)
>3. 描述改善MOSBENCH中应用的可扩展性的必要技术

最终的结论：没有直接的因为可扩展性而放弃传统内核设计的理由

##The MOSBENCH APPLICATION##

为了强调内核，本文选择两类的应用：
>1. 之前的工作都显示其在Linux上**没有很好的扩展性**的应用
>2. 为**并行和内核集中**而设计的应用

本文使用内存里的tmpfs文件系统来模拟**无磁盘**的情形，以避免大多数应用因为磁盘写而产生的瓶颈。这些应用都起到了强调内核中那些在单核上运行花掉大多CPU时间的重要部分：

####1. Mail server####
Exim是一个mail server：用一个服务器来处理listens，并且为每个链接生成一个新进程，用来准备接受要发来的邮件，并且对他们做排序，归类，删除过期邮件，把信息记录到共享的日志文件中。每个链接进程会被唤醒两次来接受信息。在多用户高并发的情况下，Exim体现出高并行性，在单核上用了69%的内核时间，**强调了进程创建以及小文件的创建和删除**。

####2. Object cache####
memcached是在内存中的k-v对存储常用来提高网页应用性能的。当一个memcached的服务器跑在多核上时，保护k-v哈希表的内部锁会成为它的瓶颈。为了避免，跑多个mamcached服务器，每个都有自己的端口，直接从服务器中查找，让服务器们能并行处理请求。当请求小时，用80%的内核时间在单核上处理包，**它着重强调网络栈**。

####3. Web server ####
将Apache服务器配置成一个实例在80端口监听，每个实例上有一个进程在单核上跑，每个进程有一个线程池来提供通信服务，一个线程用来接受将要到来的信息，其他的则处理这些信息。除了网络栈，由于它每来一个请求都会打开一个文件，这个配置**着重于文件系统，尤其是目录名的查找**。在单核上，其用掉60%的内核执行时间。

####4. Database ####
PostgreSQL不像本文其他负载，它能更大限度发挥内部共享数据结构和同步性的作用。他也强调